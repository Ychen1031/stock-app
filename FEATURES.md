# 股票 App - 人性化功能升級版

## 🎉 新增功能

### 1. 🌓 深色模式
- **智能主題切換**：支援淺色、深色和自動模式（跟隨系統設定）
- **全局主題管理**：使用 Context API 統一管理顏色配置
- **護眼設計**：深色模式減少眼睛疲勞，適合長時間使用
- **設定位置**：在「我的」頁面可以切換主題模式

### 2. 🔍 智能搜尋功能
- **快速搜尋**：在股票頁面頂部輸入股票代碼或名稱
- **即時結果**：輸入時自動顯示搜尋結果
- **全市場支援**：同時搜尋台股和美股
- **一鍵導航**：點擊搜尋結果直接進入股票詳情頁

### 3. 📊 持倉管理系統
- **交易記錄**：記錄買入和賣出交易
- **自動計算**：
  - 平均成本
  - 持有股數
  - 總市值
  - 損益金額和百分比
- **投資組合總覽**：查看整體投資表現
- **詳細持倉卡片**：每支股票的完整持倉資訊

### 4. 🔔 價格提醒（開發中）
- **自訂目標價**：設定想要的提醒價格
- **雙向提醒**：支援價格突破（≥）和跌破（≤）兩種條件
- **提醒管理**：啟用/停用/刪除提醒
- **多重提醒**：一支股票可設定多個價格提醒
- **位置**：在股票詳情頁點擊「設定價格提醒」按鈕

### 5. ✨ UI/UX 優化
- **視覺一致性**：所有畫面統一使用主題配色
- **陰影效果**：卡片式設計提升層次感
- **流暢動畫**：Modal 和過場動畫提升使用體驗
- **響應式設計**：支援不同螢幕尺寸

## 📁 新增檔案結構

```
src/
├── context/
│   └── ThemeContext.js          # 主題管理
├── services/
│   └── searchApi.js             # 搜尋功能 API
├── storage/
│   ├── priceAlertStorage.js     # 價格提醒資料管理
│   └── portfolioStorage.js      # 持倉資料管理
├── components/
│   ├── SearchBar.js             # 搜尋欄組件
│   └── PriceAlertModal.js       # 價格提醒彈窗
└── screens/
    └── PortfolioScreen.js       # 持倉管理頁面
```

## 🎨 主題系統

### 主題配色
```javascript
// 淺色模式
{
  background: '#F5F5F5',
  surface: '#FFFFFF',
  text: '#000000',
  primary: '#2196F3',
  up: '#10B981',      // 上漲
  down: '#EF4444',    // 下跌
}

// 深色模式
{
  background: '#121212',
  surface: '#1E1E1E',
  text: '#FFFFFF',
  primary: '#64B5F6',
  up: '#10B981',
  down: '#EF4444',
}
```

### 使用主題
```javascript
import { useTheme } from '../context/ThemeContext';

const { theme, isDark, toggleTheme } = useTheme();
```

## 💾 資料儲存

所有資料使用 AsyncStorage 本地儲存：
- 自選股清單
- 持倉交易記錄
- 價格提醒設定
- 主題偏好設定

## 🚀 快速開始

1. 安裝依賴
```bash
npm install
```

2. 啟動應用
```bash
npx expo start
```

## 📱 功能使用指南

### 設定深色模式
1. 進入「我的」頁面
2. 使用開關切換深色模式
3. 或選擇淺色/深色/自動模式

### 搜尋股票
1. 進入「股票」頁面
2. 在頂部搜尋欄輸入代碼或名稱
3. 點擊搜尋結果查看詳情

### 管理持倉
1. 進入「持倉」頁面
2. 點擊「+ 新增交易」
3. 輸入買入/賣出資訊
4. 查看即時損益統計

### 設定價格提醒
1. 進入股票詳情頁
2. 點擊「🔔 設定價格提醒」
3. 輸入目標價格和條件
4. 確認新增提醒

## 🔮 未來規劃

- [ ] 價格提醒背景檢查
- [ ] 推播通知整合
- [ ] 持倉圖表視覺化
- [ ] 更多技術指標
- [ ] 社群功能（討論、分享）
- [ ] 雲端同步
- [ ] 多帳戶支援

## 🛠 技術棧

- React Native
- Expo
- React Navigation
- AsyncStorage
- Context API (狀態管理)
- Victory Native (圖表)

## 📝 注意事項

1. **搜尋功能**：目前使用模擬資料，實際使用時需串接真實股票搜尋 API
2. **價格提醒**：提醒檢查功能需要在背景定期執行，建議整合推播服務
3. **持倉計算**：目前使用簡化的平均成本計算法，未考慮手續費和稅金
4. **資料同步**：所有資料存在本地，刪除 App 會遺失資料

## 🤝 貢獻

歡迎提出 Issue 和 Pull Request！

---

**版本**：v2.0  
**更新日期**：2025-12-24  
**作者**：黃鼎軒
